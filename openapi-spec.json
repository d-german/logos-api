{
  "openapi": "3.1.0",
  "info": {
    "title": "Logos Bible API",
    "description": "API for looking up Bible verses with Greek/Hebrew linguistic data and lexicon definitions.",
    "version": "1.3.0"
  },
  "servers": [{"url": "https://wispy-koi-d-german-8684f0e9.koyeb.app"}],
  "paths": {
    "/api/verses/lookup": {
      "get": {
        "operationId": "lookupVerses",
        "summary": "Look up Bible verses with linguistic data",
        "parameters": [{
          "name": "verseReferences",
          "in": "query",
          "required": true,
          "schema": {"type": "array", "items": {"type": "string"}, "example": ["Matt.1.1", "John.3.16"]}
        }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/VerseLookupResult"}
              }
            }
          }
        }
      }
    },
    "/api/lexicon/{strongsNumber}": {
      "get": {
        "operationId": "getLexiconEntry",
        "summary": "Look up a lexicon entry",
        "parameters": [{
          "name": "strongsNumber",
          "in": "path",
          "required": true,
          "schema": {"type": "string", "example": "G25"}
        }],
        "responses": {
          "200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LexiconLookupResponse"}}}},
          "400": {"description": "Invalid format", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}},
          "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}
        }
      }
    },
    "/health": {"get": {"operationId": "healthCheck", "responses": {"200": {"description": "Healthy", "content": {"text/plain": {"schema": {"type": "string"}}}}}}}
  },
  "components": {
    "schemas": {
      "VerseLookupResult": {
        "type": "object",
        "properties": {
          "verses": {"type": "array", "items": {"$ref": "#/components/schemas/VerseResponse"}},
          "notFound": {"type": "array", "items": {"type": "string"}}
        },
        "required": ["verses", "notFound"]
      },
      "VerseResponse": {
        "type": "object",
        "properties": {
          "reference": {"type": "string"},
          "tokens": {"type": "array", "items": {"$ref": "#/components/schemas/TokenResponse"}}
        },
        "required": ["reference", "tokens"]
      },
      "TokenResponse": {
        "type": "object",
        "properties": {
          "gloss": {"type": "string", "description": "English translation/meaning"},
          "greek": {"type": "string", "description": "Original Greek text"},
          "translit": {"type": "string", "description": "Transliteration"},
          "strongs": {"type": "string", "description": "Strong's number (e.g., G976)"},
          "rmac": {"type": "string", "description": "Robinson's Morphological Analysis Code"},
          "rmacDesc": {"type": ["string", "null"], "description": "Human-readable morphology description"},
          "morph": {"$ref": "#/components/schemas/MorphologyInfo"}
        },
        "required": ["gloss", "greek", "translit", "strongs", "rmac"]
      },
      "MorphologyInfo": {
        "type": "object",
        "description": "Parsed morphological components from RMAC code. All fields populated when applicable, null otherwise.",
        "properties": {
          "pos": {"type": ["string", "null"], "description": "Part of speech: Verb, Noun, Adjective, Article, PersonalPronoun, etc."},
          "tense": {"type": ["string", "null"], "description": "Verb tense: Present, Imperfect, Future, Aorist, Perfect, Pluperfect, SecondAorist, etc."},
          "voice": {"type": ["string", "null"], "description": "Verb voice: Active, Middle, Passive, MiddleOrPassive, Deponent, etc."},
          "verbForm": {"type": ["string", "null"], "description": "Verb form: Finite, Participle, or Infinitive"},
          "mood": {"type": ["string", "null"], "description": "Finite verb mood only: Indicative, Subjunctive, Imperative, Optative (null for participles/infinitives)"},
          "case": {"type": ["string", "null"], "description": "Grammatical case: Nominative, Genitive, Dative, Accusative, Vocative"},
          "number": {"type": ["string", "null"], "description": "Number: Singular, Plural"},
          "gender": {"type": ["string", "null"], "description": "Gender: Masculine, Feminine, Neuter"},
          "person": {"type": ["string", "null"], "description": "Person: First, Second, Third"},
          "flags": {"type": "array", "items": {"type": "string"}, "description": "Additional flags: ProperName, Title, Comparative, Superlative, Deponent, Location, etc."}
        }
      },
      "LexiconLookupResponse": {
        "type": "object",
        "properties": {
          "strongsNumber": {"type": "string"},
          "definition": {"type": "string"}
        },
        "required": ["strongsNumber", "definition"]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {"type": "string"}
        },
        "required": ["error"]
      }
    }
  }
}
